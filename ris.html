<!DOCTYPE html>
<html lang="id" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Republik Indonesia Serikat (RIS) - BoBeng Edukasi</title>
    <meta name="description" content="Informasi lengkap mengenai sejarah, struktur, dan pembubaran Republik Indonesia Serikat (RIS) sebagai bagian dari sejarah Indonesia.">
    <meta name="keywords" content="Republik Indonesia Serikat, RIS, Sejarah Indonesia, Negara Federal, Soekarno, Hatta, Konferensi Meja Bundar">
    <meta name="author" content="@benggg111">
    
    <!-- Favicon -->
    <link rel="icon" type="image/png" href="https://iili.io/FZ6fGLv.png">

    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
    <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">

<style>
    body { font-family: 'Poppins', sans-serif; background-color: #0a0a0a; color: #f1f1f1; overflow-x: hidden; }
    body.modal-open { overflow: hidden; }
    #page-wrapper { transition: filter 0.4s ease, transform 0.4s ease; }
    #page-wrapper.blurred { filter: blur(8px) brightness(0.7); transform: scale(0.98); pointer-events: none; }
    #particle-canvas { position: fixed; inset: 0; z-index: -1; }

    .info-title { background: linear-gradient(to right, #a855f7, #ec4899); -webkit-background-clip: text; -webkit-text-fill-color: transparent; }
    
    /* Back Button */
    .back-button { position: fixed; top: 1.5rem; left: 1.5rem; z-index: 50; display: flex; align-items: center; padding: 0.5rem 1rem; background-color: rgba(255, 255, 255, 0.1); border: 1px solid rgba(255, 255, 255, 0.2); border-radius: 99px; backdrop-filter: blur(8px); color: white; text-decoration: none; transition: all 0.3s ease; transform: translateX(-200%); animation: slideIn 1s 0.5s forwards; }
    .back-button:hover { background-color: rgba(255, 255, 255, 0.2); box-shadow: 0 0 15px rgba(168, 85, 247, 0.5); transform: scale(1.05); }
    .back-button .icon { transition: transform 0.3s ease; }
    .back-button:hover .icon { transform: translateX(-4px); }
    @keyframes slideIn { to { transform: translateX(0); } }

    /* Premium Layout */
    .content-card { background: #121212; border: 1px solid #27272a; border-radius: 1rem; padding: 2rem; margin-bottom: 2rem; }
    .info-box-item { display: flex; justify-content: space-between; padding: 0.75rem 0; border-bottom: 1px solid rgba(255,255,255,0.05); }
    .info-box-item:last-child { border-bottom: none; }
    .info-box-item dt { color: #a1a1aa; }
    .info-box-item dd { font-weight: 500; text-align: right; }
    .image-caption { font-size: 0.875rem; color: #a1a1aa; text-align: center; margin-top: 1rem; font-style: italic; }
    
    .timeline { position: relative; padding-left: 2.5rem; }
    .timeline::before { content: ''; position: absolute; left: 0.5rem; top: 0; bottom: 0; width: 2px; background-color: #27272a; }
    .timeline-item { position: relative; margin-bottom: 2rem; }
    .timeline-item::before { content: ''; position: absolute; left: -2.2rem; top: 0.25rem; width: 1rem; height: 1rem; background-color: #a855f7; border-radius: 50%; border: 3px solid #0a0a0a; }
    .timeline-title { font-weight: 600; font-size: 1.125rem; color: white; }

    .table-container { overflow-x: auto; }
    .table-auto { width: 100%; min-width: 800px; border-collapse: collapse; }
    .table-auto th, .table-auto td { border: 1px solid #27272a; padding: 0.75rem; text-align: left; vertical-align: middle; }
    .table-auto thead { background-color: rgba(255,255,255,0.05); }
    .table-auto .flag-img { height: 20px; width: auto; background-color: #333; }

    .zoomable-image { cursor: zoom-in; transition: transform 0.3s ease; }
    .zoomable-image:hover { transform: scale(1.03); }
    /* Disable image theft */
    img { -webkit-touch-callout: none; user-select: none; }

    /* Image Zoom Modal */
    .modal-container { position: fixed; inset: 0; z-index: 100; display: flex; align-items: center; justify-content: center; background-color: rgba(0, 0, 0, 0.8); opacity: 0; visibility: hidden; transition: opacity 0.4s ease, visibility 0.4s ease; backdrop-filter: blur(0px); }
    .modal-container.visible { opacity: 1; visibility: visible; backdrop-filter: blur(8px); }
    .modal-content { background: transparent; padding: 0; width: 100%; height: 100%; display: flex; align-items: center; justify-content: center; }
    #image-zoom-container { width: 90vw; height: 90vh; display: flex; align-items: center; justify-content: center; overflow: hidden; border-radius: 1rem; }
    #zoomed-image { width: 100%; height: 100%; object-fit: contain; transition: transform 0.2s ease-out; cursor: grab; }
    #zoomed-image.is-dragging { cursor: grabbing; }
    .close-modal-btn { position: absolute; top: 1rem; right: 1rem; width: 2.5rem; height: 2.5rem; background-color: rgba(0,0,0,0.5); border-radius: 50%; display: flex; align-items: center; justify-content: center; cursor: pointer; transition: all 0.2s ease; z-index: 120; }
    .close-modal-btn:hover { background-color: rgba(0,0,0,0.7); transform: rotate(90deg); }
    #zoom-controls { position: absolute; bottom: 2rem; left: 50%; transform: translateX(-50%); background: rgba(0,0,0,0.6); padding: 0.5rem 1rem; border-radius: 99px; display: flex; gap: 1rem; align-items: center; z-index: 110; }
    .zoom-btn { background: none; border: none; color: white; font-size: 1.5rem; cursor: pointer; transition: transform 0.2s, opacity 0.2s; }
    .zoom-btn:hover:not(:disabled) { transform: scale(1.2); }
    .zoom-btn:disabled { opacity: 0.3; cursor: not-allowed; }

    .tiktok-gradient-text { background: linear-gradient(to right, #69C9D0, #EE1D52); -webkit-background-clip: text; -webkit-text-fill-color: transparent; }
    .instagram-gradient-text { background: linear-gradient(45deg, #f09433 0%, #e6683c 25%, #dc2743 50%, #cc2366 75%, #bc1888 100%); -webkit-background-clip: text; -webkit-text-fill-color: transparent; }
    
    /* Donation Button */
    .donation-button {
        display: inline-block;
        padding: 12px 28px;
        background: linear-gradient(45deg, #a855f7, #ec4899);
        color: white;
        font-weight: 600;
        border-radius: 99px;
        text-decoration: none;
        transition: all 0.4s ease;
        position: relative;
        overflow: hidden;
        z-index: 1;
        border: none;
    }
    .donation-button:before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: linear-gradient(45deg, #ec4899, #a855f7);
        opacity: 0;
        transition: opacity 0.4s ease;
        z-index: -1;
    }
    .donation-button:hover {
        transform: translateY(-3px);
        box-shadow: 0 10px 20px rgba(168, 85, 247, 0.4);
    }
    .donation-button:hover:before {
        opacity: 1;
    }
    .donation-button:active {
        transform: translateY(-1px);
        box-shadow: 0 5px 10px rgba(168, 85, 247, 0.4);
    }

</style>
</head>
<body class="antialiased">

<canvas id="particle-canvas"></canvas>

<div id="fixed-logo" class="fixed top-4 right-4 z-50 mix-blend-screen">
    <img src="https://upload.wikimedia.org/wikipedia/commons/3/31/80_RI_2025.svg" alt="Logo RI 80" class="h-16 w-16 md:h-20 md:w-20">
</div>

<a href="index.html" class="back-button">
    <i class="fas fa-arrow-left icon mr-2"></i>
    <span>Halaman Utama</span>
</a>

<div id="page-wrapper" class="container mx-auto px-4 py-24">
    <header class="text-center mb-16">
        <h1 class="text-4xl md:text-6xl font-bold info-title" data-aos="fade-down">Republik Indonesia Serikat</h1>
        <p class="text-xl text-gray-400" data-aos="fade-down" data-aos-delay="100">1949 â€“ 1950</p>
    </header>

    <main class="space-y-8">
        
        <!-- Important Info Box -->
        <div class="content-card" data-aos="fade-up">
            <div class="grid grid-cols-1 md:grid-cols-3 gap-8 items-center">
                <div class="md:col-span-1 flex flex-col items-center">
                    <div class="flex justify-around w-full items-center mb-4">
                         <img src="https://upload.wikimedia.org/wikipedia/commons/9/9f/Flag_of_Indonesia.svg" alt="Bendera RIS" class="h-10 zoomable-image">
                         <img src="https://upload.wikimedia.org/wikipedia/commons/8/84/Coat_of_arms_of_United_States_of_Indonesia.svg" alt="Lambang RIS" class="h-20 zoomable-image">
                    </div>
                    <img src="https://upload.wikimedia.org/wikipedia/commons/5/5b/LocationRIS.svg" alt="Peta RIS" class="w-full rounded-md my-4 zoomable-image">
                </div>
                <div class="md:col-span-2">
                    <dl>
                        <div class="info-box-item"><dt>Ibu kota</dt><dd>Jakarta</dd></div>
                        <div class="info-box-item"><dt>Bahasa</dt><dd>Indonesia</dd></div>
                        <div class="info-box-item"><dt>Presiden</dt><dd>Soekarno</dd></div>
                        <div class="info-box-item"><dt>Perdana Menteri</dt><dd>Mohammad Hatta</dd></div>
                        <div class="info-box-item"><dt>Didirikan</dt><dd>27 Desember 1949</dd></div>
                        <div class="info-box-item"><dt>Dibubarkan</dt><dd>17 Agustus 1950</dd></div>
                    </dl>
                </div>
            </div>
        </div>
        
        <!-- Main Content -->
        <div class="content-card" data-aos="fade-up">
            <p class="text-gray-300 leading-relaxed text-lg">
                Republik Indonesia Serikat (RIS) adalah sebuah negara federal berumur pendek tempat Belanda secara resmi mengalihkan kedaulatan Hindia Belanda pada 27 Desember 1949. Penyerahan ini mengakhiri konflik empat tahun antara nasionalis Indonesia dan Belanda, namun RIS sendiri hanya bertahan kurang dari satu tahun sebelum digantikan oleh negara kesatuan Republik Indonesia.
            </p>
        </div>

         <div class="content-card" data-aos="fade-up">
            <h2 class="text-3xl font-bold mb-6">Pembagian Administratif</h2>
            <img src="https://upload.wikimedia.org/wikipedia/commons/e/e7/Map_of_the_United_States_of_Indonesia-id.svg" alt="Peta Pembagian Administratif RIS" class="w-full rounded-lg shadow-lg my-4 zoomable-image bg-white p-2">
            <p class="image-caption">Peta wilayah negara-negara bagian dan daerah otonom dalam Republik Indonesia Serikat.</p>
        </div>
        
        <div class="content-card" data-aos="fade-up">
            <h2 class="text-3xl font-bold mb-6">Negara Bagian</h2>
            <div class="table-container">
                <table class="table-auto">
                    <thead>
                        <tr><th>Bendera</th><th>Negara Bagian</th><th>Pusat Pemerintahan</th><th>Wali Negara</th><th>Didirikan</th><th>Dibubarkan</th></tr>
                    </thead>
                    <tbody>
                        <tr><td><img src="https://upload.wikimedia.org/wikipedia/commons/9/9f/Flag_of_Indonesia.svg" alt="Bendera RI" class="flag-img"></td><td>Republik Indonesia</td><td>Yogyakarta</td><td>Assaat</td><td>27 Des 1949</td><td>17 Agu 1950</td></tr>
                        <tr><td><img src="https://upload.wikimedia.org/wikipedia/commons/2/20/Flag_of_the_State_of_East_Indonesia.svg" alt="Bendera NIT" class="flag-img"></td><td>Negara Indonesia Timur</td><td>Makassar</td><td>Tjokorda Gde Raka Soekawati</td><td>24 Des 1946</td><td>17 Agu 1950</td></tr>
                        <tr><td><img src="https://upload.wikimedia.org/wikipedia/commons/d/d0/Flag_of_Pasundan.svg" alt="Bendera Pasundan" class="flag-img"></td><td>Negara Pasundan</td><td>Bandung</td><td>R.A.A. Wiranatakoesoema</td><td>25 Feb 1948</td><td>11 Mar 1950</td></tr>
                        <tr><td><img src="https://upload.wikimedia.org/wikipedia/commons/2/2b/Flag_of_Various_Autonomous_Indonesian_States.svg" alt="Bendera Jawa Timur" class="flag-img"></td><td>Negara Jawa Timur</td><td>Surabaya</td><td>R.T.P. Achmad Kusumonegoro</td><td>27 Nov 1948</td><td>9 Mar 1950</td></tr>
                        <tr><td><img src="https://upload.wikimedia.org/wikipedia/commons/2/2b/Flag_of_Various_Autonomous_Indonesian_States.svg" alt="Bendera Madura" class="flag-img"></td><td>Negara Madura</td><td>Pamekasan</td><td>Ruslan Tjakraningrat</td><td>20 Feb 1948</td><td>9 Mar 1950</td></tr>
                        <tr><td><img src="https://upload.wikimedia.org/wikipedia/commons/4/43/Flag_of_East_Sumatra.svg" alt="Bendera Sumatera Timur" class="flag-img"></td><td>Negara Sumatera Timur</td><td>Medan</td><td>Tengku Mansur</td><td>25 Des 1947</td><td>17 Agu 1950</td></tr>
                        <tr><td><img src="https://upload.wikimedia.org/wikipedia/commons/f/fe/Flag_of_South_Sumatra.svg" alt="Bendera Sumatera Selatan" class="flag-img"></td><td>Negara Sumatera Selatan</td><td>Palembang</td><td>Abdul Malik</td><td>2 Sep 1948</td><td>24 Mar 1950</td></tr>
                    </tbody>
                </table>
            </div>
        </div>

        <div class="content-card" data-aos="fade-up">
            <h2 class="text-3xl font-bold mb-6">Daerah Otonom</h2>
            <div class="table-container">
                <table class="table-auto">
                    <thead>
                        <tr><th>Bendera</th><th>Daerah Otonom</th><th>Pusat Pemerintahan</th><th>Kepala Daerah</th><th>Didirikan</th><th>Dibubarkan</th></tr>
                    </thead>
                    <tbody>
                        <tr><td><img src="https://upload.wikimedia.org/wikipedia/commons/2/2b/Flag_of_Various_Autonomous_Indonesian_States.svg" alt="Bendera Jawa Tengah" class="flag-img"></td><td>Daerah Jawa Tengah</td><td>Semarang</td><td>Dr. R.V. Sudjito</td><td>2 Mar 1949</td><td>9 Mar 1950</td></tr>
                        <tr><td><img src="https://upload.wikimedia.org/wikipedia/commons/2/2b/Flag_of_Various_Autonomous_Indonesian_States.svg" alt="Bendera Kalbar" class="flag-img"></td><td>Daerah Istimewa Kalimantan Barat</td><td>Pontianak</td><td>Sultan Hamid II</td><td>12 Mei 1947</td><td>22 Apr 1950</td></tr>
                        <tr><td><img src="https://upload.wikimedia.org/wikipedia/commons/e/e1/Flag_of_Dayak_Besar.svg" alt="Bendera Dayak Besar" class="flag-img"></td><td>Daerah Dayak Besar</td><td>Kuala Kapuas</td><td>J. van Dyk</td><td>7 Des 1946</td><td>18 Apr 1950</td></tr>
                        <tr><td><img src="https://upload.wikimedia.org/wikipedia/commons/a/a5/Banjar_Sultanate_Flag.svg" alt="Bendera Banjar" class="flag-img"></td><td>Daerah Banjar</td><td>Banjarmasin</td><td>Mohammad Hanafiah</td><td>14 Jan 1948</td><td>18 Apr 1950</td></tr>
                        <tr><td><img src="https://upload.wikimedia.org/wikipedia/commons/2/2b/Flag_of_Various_Autonomous_Indonesian_States.svg" alt="Bendera Kalteng" class="flag-img"></td><td>Federasi Kalimantan Tenggara</td><td>Kotabaru</td><td>Abdul Gaffar Noor</td><td>8 Jan 1947</td><td>18 Apr 1950</td></tr>
                        <tr><td><img src="https://upload.wikimedia.org/wikipedia/commons/2/2b/Flag_of_Various_Autonomous_Indonesian_States.svg" alt="Bendera Kaltim" class="flag-img"></td><td>Negara Kalimantan Timur</td><td>Samarinda</td><td>Aji Muhammad Parikesit</td><td>12 Mei 1947</td><td>24 Mar 1950</td></tr>
                        <tr><td><img src="https://upload.wikimedia.org/wikipedia/commons/2/2b/Flag_of_Various_Autonomous_Indonesian_States.svg" alt="Bendera Bangka" class="flag-img"></td><td>Daerah Bangka</td><td>Sungai Liat</td><td>Mohammad Jusuf Rasidi</td><td>12 Jul 1947</td><td>4 Apr 1950</td></tr>
                        <tr><td><img src="https://upload.wikimedia.org/wikipedia/commons/2/2b/Flag_of_Various_Autonomous_Indonesian_States.svg" alt="Bendera Belitung" class="flag-img"></td><td>Daerah Belitung</td><td>-</td><td>K.A. Mohammad Jusuf</td><td>12 Jul 1947</td><td>4 Apr 1950</td></tr>
                        <tr><td><img src="https://upload.wikimedia.org/wikipedia/commons/2/2b/Flag_of_Various_Autonomous_Indonesian_States.svg" alt="Bendera Riau" class="flag-img"></td><td>Daerah Riau</td><td>-</td><td>Radja Mohammad</td><td>12 Jul 1947</td><td>4 Apr 1950</td></tr>
                    </tbody>
                </table>
            </div>
        </div>
        
        <div class="content-card" data-aos="fade-up">
            <h2 class="text-3xl font-bold mb-6">Distrik Federal</h2>
            <div class="table-container">
                <table class="table-auto">
                    <thead>
                        <tr><th>Bendera</th><th>Distrik Federal</th><th>Pusat Pemerintahan</th><th>Gubernur</th><th>Didirikan</th><th>Dibubarkan</th></tr>
                    </thead>
                    <tbody>
                         <tr><td><img src="https://upload.wikimedia.org/wikipedia/commons/d/d0/Flag_of_Pasundan.svg" alt="Bendera Distrik Federal Jakarta" class="flag-img"></td><td>Distrik Federal Jakarta</td><td>-</td><td>Hilman Djajadiningrat</td><td>11 Agu 1948</td><td>30 Mar 1950</td></tr>
                    </tbody>
                </table>
            </div>
            <p class="text-gray-400 mt-4 leading-relaxed">Distrik Federal Jakarta (sebelumnya Batavia) dikelola langsung oleh pemerintah federal RIS dan diberikan otonomi di dalam lingkup Negara Pasundan.</p>
        </div>
    </main>
    
    <footer class="text-center py-10 mt-16 border-t border-gray-900">
        <div class="mb-8">
            <a href="donation.html" class="donation-button">
                <i class="fas fa-heart mr-2"></i>Donasi
            </a>
        </div>
        <p>&copy; <span id="year"></span> benggg. All rights reserved.</p>
        <div class="mt-4">
            <a href="https://www.tiktok.com/@benggg111" target="_blank" rel="noopener noreferrer" class="text-gray-500 hover:tiktok-gradient-text transition-colors duration-300 text-3xl inline-block"><i class="fab fa-tiktok"></i></a>
            <a href="https://www.instagram.com/hlallngkas?igsh=aW91a3BmanQyYjNx" target="_blank" rel="noopener noreferrer" class="text-gray-500 hover:instagram-gradient-text transition-colors duration-300 text-3xl inline-block ml-6"><i class="fab fa-instagram"></i></a>
            <a href="https://youtube.com/@bobenggid" target="_blank" rel="noopener noreferrer" class="text-gray-500 hover:text-red-600 transition-colors duration-300 text-3xl inline-block ml-6"><i class="fab fa-youtube"></i></a>
        </div>
    </footer>
</div>

<!-- Image Zoom Modal -->
<div id="image-zoom-modal" class="modal-container">
    <button id="close-zoom-modal-btn" class="close-modal-btn"><i class="fas fa-times text-white"></i></button>
    <div class="modal-content">
        <div id="image-zoom-container">
            <img id="zoomed-image" src="" alt="Zoomed Image">
        </div>
    </div>
    <div id="zoom-controls">
        <button id="zoom-out-btn" class="zoom-btn"><i class="fas fa-search-minus"></i></button>
        <button id="zoom-in-btn" class="zoom-btn"><i class="fas fa-search-plus"></i></button>
    </div>
</div>

<script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
<script>
document.addEventListener('DOMContentLoaded', () => {
    AOS.init({ once: true, duration: 800, offset: 50 });
    document.getElementById('year').textContent = new Date().getFullYear();

    // Prevent image theft
    document.querySelectorAll('img').forEach(img => {
        img.addEventListener('contextmenu', e => e.preventDefault());
    });

    // Particle Animation
    const canvas = document.getElementById('particle-canvas');
    if (canvas) {
        const ctx = canvas.getContext('2d');
        canvas.width = window.innerWidth; canvas.height = window.innerHeight;
        let particlesArray = []; const numberOfParticles = 80;
        const colors = ['rgba(255, 0, 0, 0.7)', 'rgba(255, 255, 255, 0.7)'];
        class Particle { constructor() { this.x = Math.random() * canvas.width; this.y = Math.random() * canvas.height; this.size = Math.random() * 5 + 1; this.speedX = Math.random() * 1 - 0.5; this.speedY = Math.random() * 1.5 + 0.5; this.color = colors[Math.floor(Math.random() * colors.length)]; } update() { this.x += this.speedX; this.y += this.speedY; if (this.size > 0.2) this.size -= 0.02; if (this.size <= 0.2) { this.x = Math.random() * canvas.width; this.y = -this.size; this.size = Math.random() * 5 + 1; } if (this.y > canvas.height) { this.y = -this.size; this.x = Math.random() * canvas.width; } } draw() { ctx.fillStyle = this.color; ctx.beginPath(); ctx.arc(this.x, this.y, this.size, 0, Math.PI * 2); ctx.fill(); } }
        function initParticles() { particlesArray = []; for (let i = 0; i < numberOfParticles; i++) { particlesArray.push(new Particle()); } }
        function animateParticles() { ctx.clearRect(0, 0, canvas.width, canvas.height); for (let i = 0; i < particlesArray.length; i++) { particlesArray[i].update(); particlesArray[i].draw(); } requestAnimationFrame(animateParticles); }
        initParticles(); animateParticles();
        window.addEventListener('resize', () => { canvas.width = window.innerWidth; canvas.height = window.innerHeight; initParticles(); });
    }

    // Image Zoom & Pan Modal Logic
    const pageWrapper = document.getElementById('page-wrapper');
    const zoomModal = document.getElementById('image-zoom-modal');
    const zoomedImage = document.getElementById('zoomed-image');
    const zoomInBtn = document.getElementById('zoom-in-btn');
    const zoomOutBtn = document.getElementById('zoom-out-btn');

    let currentZoom = 1;
    let minZoom = 1;
    let maxZoom = 5;
    let zoomStep = 1; 
    let zoomPresses = 0;
    const maxPresses = 4;

    let isDragging = false;
    let startX, startY, translateX, translateY;

    const openZoomModal = (imgSrc) => {
        zoomedImage.src = imgSrc;
        resetZoomAndPan();
        document.body.classList.add('modal-open');
        zoomModal.classList.add('visible');
    };

    const closeZoomModal = () => {
        document.body.classList.remove('modal-open');
        zoomModal.classList.remove('visible');
    };
    
    const resetZoomAndPan = () => {
        currentZoom = 1;
        zoomPresses = 0;
        translateX = 0;
        translateY = 0;
        applyTransform();
        updateZoomButtons();
    };

    const applyTransform = () => {
        zoomedImage.style.transform = `translate(${translateX}px, ${translateY}px) scale(${currentZoom})`;
    };
    
    const updateZoomButtons = () => {
        zoomInBtn.disabled = zoomPresses >= maxPresses;
        zoomOutBtn.disabled = zoomPresses <= 0;
    };

    document.querySelectorAll('.zoomable-image').forEach(img => {
        img.addEventListener('click', (e) => openZoomModal(e.target.src));
    });

    document.getElementById('close-zoom-modal-btn').addEventListener('click', closeZoomModal);
    
    zoomInBtn.addEventListener('click', () => {
        if (zoomPresses < maxPresses) {
            zoomPresses++;
            currentZoom = 1 + zoomPresses * zoomStep;
            applyTransform();
            updateZoomButtons();
        }
    });

    zoomOutBtn.addEventListener('click', () => {
        if (zoomPresses > 0) {
            zoomPresses--;
            currentZoom = 1 + zoomPresses * zoomStep;
            if (currentZoom === 1) {
                 translateX = 0;
                 translateY = 0;
            }
            applyTransform();
            updateZoomButtons();
        }
    });

    zoomedImage.addEventListener('mousedown', (e) => {
        if (currentZoom > 1) {
            e.preventDefault();
            isDragging = true;
            startX = e.pageX - translateX;
            startY = e.pageY - translateY;
            zoomedImage.classList.add('is-dragging');
        }
    });

    window.addEventListener('mousemove', (e) => {
        if (isDragging) {
            translateX = e.pageX - startX;
            translateY = e.pageY - startY;
            applyTransform();
        }
    });

    window.addEventListener('mouseup', () => {
        isDragging = false;
        zoomedImage.classList.remove('is-dragging');
    });
    
    zoomedImage.addEventListener('touchstart', (e) => {
        if (currentZoom > 1 && e.touches.length === 1) {
            isDragging = true;
            const touch = e.touches[0];
            startX = touch.pageX - translateX;
            startY = touch.pageY - translateY;
            zoomedImage.classList.add('is-dragging');
        }
    });
    
    window.addEventListener('touchmove', (e) => {
        if (isDragging && e.touches.length === 1) {
            e.preventDefault();
            const touch = e.touches[0];
            translateX = touch.pageX - startX;
            translateY = touch.pageY - startY;
            applyTransform();
        }
    }, { passive: false });
    
    window.addEventListener('touchend', () => {
        isDragging = false;
        zoomedImage.classList.remove('is-dragging');
    });

});
</script>

</body>
</html>

